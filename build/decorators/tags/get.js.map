{"version":3,"sources":["../../../src/decorators/tags/get.js"],"names":["micro","client","tags","Promise","resolve","reject","hmset","result","keys","err","logger","error","code","message","join"],"mappings":";;;;;;AAAA;;;;kBAEe,UAACA,KAAD,EAAQC,MAAR;AAAA,SAAmB;AAAA,sCAAIC,IAAJ;AAAIA,UAAJ;AAAA;;AAAA,WAAa,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AAC9EJ,aAAOK,KAAP,+DAA0BC,OAAOC,IAAjC,IAAuC,UAAUC,GAAV,EAAeF,MAAf,EAAuB;AAC5D,YAAIE,GAAJ,EAAS;AACPT,gBAAMU,MAAN,CAAaC,KAAb,CAAmBF,GAAnB;AACA,iBAAOJ,OAAO;AACZO,oDAA0CH,IAAIG,IADlC;AAEZC,2JAAqCX,KAAKY,IAAL,CAAU,GAAV,CAArC;AAFY,WAAP,CAAP;AAID;;AAEDV,gBAAQG,OAAOL,IAAf;AACD,OAVD;AAWD,KAZ8C,CAAb;AAAA,GAAnB;AAAA,C","file":"get.js","sourcesContent":["import { TAGS_KEY } from './constants';\n\nexport default (micro, client) => (...tags) => new Promise((resolve, reject) => {\n  client.hmset(TAGS_KEY, ...result.keys, function (err, result) {\n    if (err) {\n      micro.logger.error(err);\n      return reject({\n        code   : `error.plugin-cache-redis.tag/${ err.code }`,\n        message: `Попытка установки тегов ${ tags.join(',') } привела к ошибке`\n      });\n    }\n\n    resolve(result.tags);\n  });\n});"]}