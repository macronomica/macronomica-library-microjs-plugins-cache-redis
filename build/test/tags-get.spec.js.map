{"version":3,"sources":["../../src/test/tags-get.spec.js"],"names":["should","config","showDiff","micro","plugin","Date","now","before","done","args","then","del","TAGS_KEY","after","describe","it","tagget","equal","tags","to","contain","all","keys","tagset","have","property"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,SAAS,eAAKA,MAAL,EAAf;AACA,eAAKC,MAAL,CAAYC,QAAZ,GAAuB,IAAvB;;AAEA,IAAMC,QAAQ,kBAAd;AACA,IAAMC,SAAS,qBAAO,EAAP,EAAWD,KAAX,EAAkB,MAAlB,EAA0BE,KAAKC,GAAL,EAA1B,CAAf;;AAEAC,OAAO;AAAA;;AAAA,SAAM,uBAAMA,MAAN,EACVC,IADU,yCACFL,MAAMI,MAAN,CAAaE,IADX,GAEVC,IAFU,CAEL;AAAA,WAAMN,OAAOO,GAAP,CAAWP,OAAOQ,QAAlB,CAAN;AAAA,GAFK,CAAN;AAAA,CAAP;;AAKAC,MAAM;AAAA,SAAMT,OACTO,GADS,CACLP,OAAOQ,QADF,EAETF,IAFS,CAEJ;AAAA;;AAAA,WAAM,sBAAMG,KAAN,EAAYL,IAAZ,wCAAoBL,MAAMU,KAAN,CAAYJ,IAAhC,EAAN;AAAA,GAFI,CAAN;AAAA,CAAN;;AAKAK,SAAS,UAAT,EAAqB,YAAW;;AAE9BC,KAAG,qBAAH,EAA0B;AAAA,WAAMX,OAAOY,MAAP,GAC7BN,IAD6B,CACxB;AAAA,aAAQV,OAAOiB,KAAP,CAAaC,IAAb,EAAmB,IAAnB,CAAR;AAAA,KADwB,CAAN;AAAA,GAA1B;;AAIAH,KAAG,qBAAH,EAA0B;AAAA,WAAMX,OAAOY,MAAP,CAAc,QAAd,EAC7BN,IAD6B,CACxB;AAAA,aAAQQ,KAAKlB,MAAL,CAAYmB,EAAZ,CAAeC,OAAf,CAAuBC,GAAvB,CAA2BC,IAA3B,CAAgC,EAAE,UAAU,IAAZ,EAAhC,CAAR;AAAA,KADwB,CAAN;AAAA,GAA1B;;AAIAP,KAAG,sBAAH,EAA2B;AAAA,WAAMX,OAAOY,MAAP,CAAc,QAAd,EAAwB,QAAxB,EAAkC,QAAlC,EAC9BN,IAD8B,CACzB;AAAA,aAAQQ,KAAKlB,MAAL,CAAYmB,EAAZ,CAAeC,OAAf,CAAuBC,GAAvB,CAA2BC,IAA3B,CAAgC,EAAE,UAAU,IAAZ,EAAkB,UAAU,IAA5B,EAAkC,UAAU,IAA5C,EAAhC,CAAR;AAAA,KADyB,CAAN;AAAA,GAA3B;;AAIAP,KAAG,sBAAH,EAA2B;AAAA,WAAMX,OAC9BmB,MAD8B,CACvB,QADuB,EACb,QADa,EAE9Bb,IAF8B,CAEzB;AAAA,aAAQN,OAAOY,MAAP,CAAc,QAAd,EAAwB,QAAxB,CAAR;AAAA,KAFyB,EAG9BN,IAH8B,CAGzB;AAAA,aAAQQ,KAAKlB,MAAL,CAAYmB,EAAZ,CAAeC,OAAf,CAAuBC,GAAvB,CAA2BC,IAA3B,CAAgC,CAAE,QAAF,EAAY,QAAZ,CAAhC,CAAR;AAAA,KAHyB,CAAN;AAAA,GAA3B;AAKAP,KAAG,sBAAH,EAA2B;AAAA,WAAMX,OAC9BmB,MAD8B,CACvB,QADuB,EAE9Bb,IAF8B,CAEzB;AAAA,aAAQN,OAAOY,MAAP,CAAc,QAAd,CAAR;AAAA,KAFyB,EAG9BN,IAH8B,CAGzB;AAAA,aAAQQ,KAAKlB,MAAL,CAAYwB,IAAZ,CAAiBC,QAAjB,CAA0B,QAA1B,CAAR;AAAA,KAHyB,CAAN;AAAA,GAA3B;AAMD,CAzBD","file":"tags-get.spec.js","sourcesContent":["import chai from 'chai';\nimport Plugin from '../../index';\nimport { MICRO } from './data';\n\nconst should = chai.should();\nchai.config.showDiff = true;\n\nconst micro = MICRO();\nconst plugin = Plugin({})(micro, 'test', Date.now());\n\nbefore(() => micro.before\n  .done(...micro.before.args)\n  .then(() => plugin.del(plugin.TAGS_KEY))\n);\n\nafter(() => plugin\n  .del(plugin.TAGS_KEY)\n  .then(() => micro.after.done(...micro.after.args))\n);\n\ndescribe('tags-get', function() {\n  \n  it('get all should null', () => plugin.tagget()\n    .then(tags => should.equal(tags, null))\n  );\n  \n  it('get one should null', () => plugin.tagget('user-1')\n    .then(tags => tags.should.to.contain.all.keys({ 'user-1': null }))\n  );\n  \n  it('get many should null', () => plugin.tagget('user-1', 'user-2', 'user-3')\n    .then(tags => tags.should.to.contain.all.keys({ 'user-1': null, 'user-2': null, 'user-3': null }))\n  );\n  \n  it('should have property', () => plugin\n    .tagset('user-1', 'user-2')\n    .then(tags => plugin.tagget('user-1', 'user-2'))\n    .then(tags => tags.should.to.contain.all.keys([ 'user-1', 'user-2' ]))\n  );\n  it('should have property', () => plugin\n    .tagset('user-1')\n    .then(tags => plugin.tagget('user-1'))\n    .then(tags => tags.should.have.property('user-1'))\n  );\n\n});"]}